---
title: Generated Hooks
description: Auto-generated React hooks for each BAML function with built-in streaming support
---

BAML automatically generates type-safe React hooks for each of your BAML functions, with built-in support for both streaming and non-streaming modes.

<Warning>
  Each generated hook follows the naming pattern `use{FunctionName}` and is strongly typed based on your BAML function definition. For server-side rendering or custom server actions, see [Server Action](./server-action) and [useBamlAction](./use-baml-action).
</Warning>

<CodeBlocks>
```baml title="baml_src/prompt.baml"
function WriteMeAStory(input: string) {
  client openai/gpt-4
  prompt #"
    Tell me a story about {{input}}
  "#
}
```

```typescript title="Generated Hook Usage"
// Generated hook is automatically available
import { useWriteMeAStory } from "@/baml_client/react/hooks";

// Non-streaming usage
const { data, isLoading, error, mutate } = useWriteMeAStory();

// Streaming usage
const { data, partialData, isLoading, error, mutate } = useWriteMeAStory({
  stream: true,
  onPartial: (partial) => console.log('Story in progress:', partial),
  onFinal: (final) => console.log('Story complete:', final)
});
```
</CodeBlocks>

## Type Parameters

<ParamField
  path="TActionKey"
  type="generic"
>
  The key of the BAML function being called. Used to infer the correct types for responses.
</ParamField>

## Hook Properties

### Return Value Properties

<ParamField
  path="data"
  type="FinalReturnType<TActionKey> | undefined"
>
  The final response data when the request completes. See [Return Types](./return-types) for more details.
</ParamField>

<ParamField
  path="partialData"
  type="PartialReturnType<TActionKey> | undefined"
>
  The latest partial response during streaming. Only available in streaming mode. See [Stream Response](./stream-response) for more details.
</ParamField>

<ParamField
  path="error"
  type="Error | BamlValidationError | BamlClientFinishReasonError | undefined"
>
  Error information if the request fails. See [Error Types](./error-types) for more details.
</ParamField>

<ParamField
  path="isError"
  type="boolean"
>
  True if the request failed.
</ParamField>

<ParamField
  path="isPending"
  type="boolean"
>
  True while the request is in progress.
</ParamField>

<ParamField
  path="isSuccess"
  type="boolean"
>
  True if the request completed successfully.
</ParamField>

<ParamField
  path="status"
  type="'idle' | 'pending' | 'success' | 'error'"
>
  The current state of the request.
</ParamField>

<ParamField
  path="mutate"
  type="(...args: Parameters<TActionKey>) => Promise<ReturnType<TActionKey>>"
>
  Function to execute the BAML function with type-safe arguments.
</ParamField>

## Usage Examples

### Basic Usage (Non-Streaming)

<CodeBlocks>
```tsx title="app/components/story-form.tsx"
'use client'

import { useWriteMeAStory } from "@/baml_client/react/hooks";

export function StoryForm() {
  // For available hook props, see Hook Props documentation
  // See: ./04-hook-props
  const {
    data,          // Final response
    isLoading,     // Loading state
    isError,       // Error state
    error,         // Error details
    mutate        // Function to call the action
  } = useWriteMeAStory();

  return (
    <div>
      <button onClick={() => mutate("Dragons")}>
        Generate Story
      </button>

      {isLoading && <div>Generating...</div>}
      {error && <div>Error: {error.message}</div>}
      {data && (
        <div>
          <h4>{data.title}</h4>
          <p>{data.content}</p>
        </div>
      )}
    </div>
  );
}
```
</CodeBlocks>

### Streaming Usage

<CodeBlocks>
```tsx title="app/components/streaming-story.tsx"
'use client'

import { useWriteMeAStory } from "@/baml_client/react/hooks";

export function StreamingStoryForm() {
  // For complete hook result details, see Hook Result documentation
  // See: ./05-hook-result
  const {
    data: finalStory,           // Final complete response
    partialData: streamingStory, // Real-time partial updates
    isLoading,
    isError,
    error,
    mutate
  } = useWriteMeAStory({
    stream: true,
    onPartial: (partial) => {
      // Handle real-time updates
      console.log('Story in progress:', partial);
    },
    onFinal: (final) => {
      // Handle completed story
      console.log('Story completed:', final);
    }
  });

  // Use streaming data while loading, fall back to final data when done
  const story = isLoading ? streamingStory : finalStory;

  return (
    <div>
      <button
        onClick={() => mutate("Tell me a story about dragons")}
        disabled={isLoading}
      >
        {isLoading ? 'Generating...' : 'Generate Story'}
      </button>

      <div>
        <h3>{streamingStory ? "Writing story..." : "Final story"}</h3>
        <h4>{story?.title}</h4>
        <p>{story?.content}</p>
      </div>

      {isError && <div>Error: {error.message}</div>}
    </div>
  );
}
```
</CodeBlocks>

### Error Handling

<CodeBlocks>
```tsx title="app/components/error-handling.tsx"
'use client'

import { useWriteMeAStory } from "@/baml_client/react/hooks";
import { BamlValidationError, BamlClientFinishReasonError } from "@boundaryml/baml/errors";

// For complete error handling details, see Error Types documentation
// See: ./09-error-types
export function StoryWithErrorHandling() {
  const { mutate, error, isLoading } = useWriteMeAStory({
    onError: (error) => {
      if (error instanceof BamlValidationError) {
        // Handle validation errors (e.g., LLM output parsing failed)
        console.error('Validation error:', error.message);
        console.error('Raw LLM output:', error.raw_output);
      } else if (error instanceof BamlClientFinishReasonError) {
        // Handle early termination
        console.error('LLM terminated early:', error.finish_reason);
        console.error('Partial output:', error.raw_output);
      } else {
        // Handle other errors (network, etc)
        console.error('Other error:', error);
      }
    }
  });

  return (
    <div>
      <button
        onClick={() => mutate("Dragons")}
        disabled={isLoading}
      >
        Generate Story
      </button>

      {error && (
        <div className="error">
          {error instanceof BamlValidationError ? (
            <span>Failed to understand AI response</span>
          ) : error instanceof BamlClientFinishReasonError ? (
            <span>AI response was cut off</span>
          ) : (
            <span>Something went wrong</span>
          )}
        </div>
      )}
    </div>
  );
}
```
</CodeBlocks>

<Note>
For server-side rendering or custom server actions, consider using the [useBamlAction](./03-use-baml-action) hook instead.
</Note>
