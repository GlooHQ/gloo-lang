---
title: Hook Results
description: Return types for BAML React hooks in both streaming and non-streaming modes
---

Hook results provide type-safe access to data, loading states, and errors from BAML React hooks. These results are returned by both [Generated Hooks](./generated-hooks) and [useBamlAction](./use-baml-action).

<Warning>
  Different result types are returned based on whether streaming is enabled. For streaming details, see [Stream Response](./stream-response).
</Warning>

<CodeBlocks>
```typescript Type Definitions
// Base hook result type
type BaseHookResult<TActionKey> = {
  data?: FinalReturnType<TActionKey>
  error?: Error | BamlValidationError | BamlClientFinishReasonError
  isError: boolean
  isPending: boolean
  isSuccess: boolean
  status: 'idle' | 'pending' | 'success' | 'error'
}

// Non-streaming hook result
type NonStreamingHookResult<TActionKey> = BaseHookResult<TActionKey> & {
  mutate: (...args: InputType) => Promise<FinalReturnType<TActionKey>>
}

// Streaming hook result
type StreamingHookResult<TActionKey> = BaseHookResult<TActionKey> & {
  partialData?: PartialReturnType<TActionKey>
  mutate: (...args: InputType) => Promise<ReadableStream<Uint8Array>>
}
```

```typescript Example Usage
// Non-streaming hook
function SimpleComponent() {
  const result: NonStreamingHookResult<'TestAws'> = useTestAws()
  const { data, error, isPending, mutate } = result

  return (
    <div>
      {isPending && <div>Loading...</div>}
      {error && <div>Error: {error.message}</div>}
      {data && <div>{data}</div>}
      <button onClick={() => mutate("test")}>Submit</button>
    </div>
  )
}

// Streaming hook
function StreamingComponent() {
  const result: StreamingHookResult<'TestAws'> = useTestAws({ stream: true })
  const { data, partialData, error, isPending, mutate } = result

  // Use partial data while streaming, final data when complete
  const currentResponse = isPending ? partialData : data

  return (
    <div>
      {error && <div>Error: {error.message}</div>}
      {currentResponse && <div>{currentResponse}</div>}
      <button onClick={() => mutate("test")}>Stream</button>
    </div>
  )
}
```
</CodeBlocks>

## Type Parameters

<ParamField
  path="TActionKey"
  type="generic"
>
  The key of the BAML action being called. Used to infer input and output types.
</ParamField>

## Common Properties

<ParamField
  path="data"
  type="FinalReturnType<TActionKey> | undefined"
>
  The final response data. Only set when the request completes successfully. See [Return Types](./return-types) for type details.
</ParamField>

<ParamField
  path="error"
  type="Error | BamlValidationError | BamlClientFinishReasonError | undefined"
>
  Any error that occurred during the request. See [Error Types](./error-types) for details on error handling.
</ParamField>

<ParamField
  path="isError"
  type="boolean"
>
  True if the request resulted in an error.
</ParamField>

<ParamField
  path="isPending"
  type="boolean"
>
  True if the request is in progress.
</ParamField>

<ParamField
  path="isSuccess"
  type="boolean"
>
  True if the request completed successfully.
</ParamField>

<ParamField
  path="status"
  type="'idle' | 'pending' | 'success' | 'error'"
>
  The current status of the request.
</ParamField>

<ParamField
  path="mutate"
  type="(...args: InputType) => Promise<OutputType>"
>
  Function to trigger the BAML action. Return type varies based on streaming mode. For server-side usage, see [Server Action](./server-action).
</ParamField>

## Streaming Properties

<ParamField
  path="partialData"
  type="PartialReturnType<TActionKey> | undefined"
>
  The latest partial response during streaming. Only available in streaming mode.
</ParamField>

## Usage Patterns

<CodeBlocks>
```typescript Loading States
// Handle loading states
function LoadingExample() {
  const { isPending, status } = useTestAws()

  if (isPending) {
    return <div>Loading...</div>
  }

  switch (status) {
    case 'idle':
      return <div>Ready</div>
    case 'pending':
      return <div>Processing...</div>
    case 'success':
      return <div>Complete!</div>
    case 'error':
      return <div>Failed</div>
  }
}
```

```typescript Error Handling
// Handle different error types
function ErrorExample() {
  const { error, isError } = useTestAws()

  if (isError) {
    if (error instanceof BamlValidationError) {
      return <div>Validation Error: {error.message}</div>
    }
    if (error instanceof BamlClientError) {
      return <div>Client Error: {error.message}</div>
    }
    return <div>Unknown Error: {error.message}</div>
  }

  return <div>No errors</div>
}
```

```typescript Streaming Updates
// Handle streaming updates
function StreamingExample() {
  const { data, partialData, isPending } = useTestAws({
    stream: true
  })

  // Show partial data while streaming, final data when complete
  const currentResponse = isPending ? partialData : data

  return <div>{currentResponse ?? 'No data yet'}</div>
}
```
</CodeBlocks>

## Best Practices

1. **Type Safety**
   ```typescript
   // ✅ Good - Type-safe result handling
   function Component() {
     const result: StreamingHookResult<'TestAws'> = useTestAws({
       stream: true
     })
     const { partialData } = result // TypeScript knows partialData exists
   }

   // ❌ Bad - Missing type information
   function Component() {
     const result = useTestAws()
     const { partialData } = result // TypeScript doesn't know if streaming
   }
   ```

2. **Error Handling**
   ```typescript
   // ✅ Good - Check both error and loading states
   function Component() {
     const { error, isPending, data } = useTestAws()

     if (isPending) return <Loading />
     if (error) return <Error error={error} />
     if (!data) return <NoData />
     return <Data data={data} />
   }

   // ❌ Bad - Missing state checks
   function Component() {
     const { data } = useTestAws()
     return <div>{data}</div> // Might be undefined
   }
   ```

3. **Streaming Updates**
   ```typescript
   // ✅ Good - Handle both partial and final data
   function Component() {
     const { data, partialData, isPending } = useTestAws({
       stream: true
     })
     return <div>{isPending ? partialData : data}</div>
   }

   // ❌ Bad - Only handle final data
   function Component() {
     const { data } = useTestAws({
       stream: true
     })
     return <div>{data}</div> // Missing partial updates
   }
