---
title: Hook Props
description: Configuration options for BAML React hooks
---

Hook props define the configuration options for both streaming and non-streaming BAML React hooks. These props are used by both [Generated Hooks](./generated-hooks) and [useBamlAction](./use-baml-action).

<Warning>
  Streaming and non-streaming hooks have different prop types to ensure type safety. For more details on streaming, see [Stream Response](./stream-response).
</Warning>

<CodeBlocks>
```typescript Type Definitions
type StreamingProps<TActionKey> = {
  stream: true
  onPartial?: (response?: PartialReturnType<TActionKey>) => void
  onFinal?: (response?: FinalReturnType<TActionKey>) => void
  onError?: (error: Error) => void
}

type NonStreamingProps<TActionKey> = {
  stream?: false
  onPartial?: never;
  onFinal?: (response?: FinalReturnType<TActionKey>) => void
  onError?: (error: Error) => void
}
```

```typescript Example Usage
// Streaming props
const streamingProps: StreamingProps<'TestAws'> = {
  stream: true,
  onPartial: (text) => console.log("Partial:", text),
  onFinal: (text) => console.log("Final:", text),
  onError: (error) => console.error(error),
}

// Non-streaming props
const nonStreamingProps: NonStreamingProps<'TestAws'> = {
  onFinal: (text) => console.log("Result:", text),
  onError: (error) => console.error(error)
}
```
</CodeBlocks>

## Type Parameters

<ParamField
  path="TActionKey"
  type="generic"
>
  The key of the BAML action being called. Used to infer the correct types for responses.
</ParamField>

## Common Properties

<ParamField
  path="onError"
  type="(error: Error) => void"
>
  Callback function called when an error occurs during the request. See [Error Types](./error-types) for details on possible errors.
</ParamField>

## Streaming Properties

<ParamField
  path="stream"
  type="true"
>
  Must be true for streaming props to enable streaming mode.
</ParamField>

<ParamField
  path="onPartial"
  type="(response?: PartialReturnType<TActionKey>) => void"
>
  Callback function called with each partial response during streaming. See [Return Types](./return-types) for type details.
</ParamField>

<ParamField
  path="onFinal"
  type="(response?: FinalReturnType<TActionKey>) => void"
>
  Callback function called with the final response when streaming completes. See [Return Types](./return-types) for type details.
</ParamField>

## Non-Streaming Properties

<ParamField
  path="stream"
  type="false | undefined"
>
  Optional flag to explicitly disable streaming mode. Defaults to false.
</ParamField>

<ParamField
  path="onFinal"
  type="(response?: FinalReturnType<TActionKey>) => void"
>
  Callback function called with the response when the request completes.
</ParamField>

## Usage with Hooks

Hook props are used to configure BAML React hooks:

<CodeBlocks>
```typescript Hook Usage
function StreamingComponent() {
  const { data, partialData } = useTestAws({
    stream: true,
    onPartial: (text) => {
      console.log("Streaming:", text)
    },
    onFinal: (text) => {
      console.log("Complete:", text)
    },
    onError: (error) => {
      console.error("Error:", error)
    },
  })

  return <div>{partialData ?? data}</div>
}

function NonStreamingComponent() {
  const { data } = useTestAws({
    onFinal: (text) => {
      console.log("Complete:", text)
    },
    onError: (error) => {
      console.error("Error:", error)
    }
  })

  return <div>{data}</div>
}
```
</CodeBlocks>